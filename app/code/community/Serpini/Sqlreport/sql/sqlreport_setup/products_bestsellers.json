[{"object_type":"group","group_id":"GR_PRODUCTS","description":"Products","orden":"3"},{"object_type":"combo","combo_id":"STORE_SELECT","title":"Show Report For","parameter":"STORE_ID","type":"select","atributes":{"sql":"SELECT 'ALL','All Websites' FROM dual\nUNION ALL\nSELECT store_id,code FROM @core_store\n"},"valueDefault":""},{"object_type":"combo","combo_id":"CB_STARTDATE","title":"Start Date","parameter":"STARTDATE","type":"date","atributes":[],"valueDefault":""},{"object_type":"combo","combo_id":"CB_ENDDATE","title":"End Date","parameter":"ENDDATE","type":"date","atributes":[],"valueDefault":""},{"object_type":"report","report_id":"PRODUCTS_BESTSELLERS","title":"Bestsellers","report_sql":"SELECT product_name as `Product name`,\n       CONCAT(ROUND(total,2),' ',currency) as `Total`,\n\t   orders as `Orders`\nFROM (\n  SELECT B.name as product_name,\n      SUM(B.row_total_incl_tax*A.base_to_global_rate) AS total,\n\t  A.global_currency_code as currency,\n     COUNT(1) as orders\n  FROM @sales_flat_order A\n  INNER JOIN @sales_flat_order_item B\n   ON A.entity_id= B.order_id\n  WHERE DATE_FORMAT(A.created_at,'%Y-%m-%d') BETWEEN :STARTDATE AND :ENDDATE\n   AND (':STORE_ID'='ALL' OR A.store_id=':STORE_ID')\n GROUP BY B.name\n) r\nORDER BY r.total desc","group_id":"GR_PRODUCTS","atributes":{"version":"1"},"chart_series":[],"combos":["STORE_SELECT","CB_STARTDATE","CB_ENDDATE"],"linkTR":[],"linkTRVariables":[],"linkTD":[]}]