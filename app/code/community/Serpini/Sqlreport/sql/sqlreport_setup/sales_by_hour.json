[{"object_type":"group","group_id":"GR_SALES","description":"Sales","orden":"2"},{"object_type":"combo","combo_id":"STORE_SELECT","title":"Show Report For","parameter":"STORE_ID","type":"select","atributes":{"sql":"SELECT 'ALL','All Websites' FROM dual\nUNION ALL\nSELECT store_id,code FROM @core_store\n"},"valueDefault":""},{"object_type":"combo","combo_id":"CB_STARTDATE","title":"Start Date","parameter":"STARTDATE","type":"date","atributes":[],"valueDefault":""},{"object_type":"combo","combo_id":"CB_ENDDATE","title":"End Date","parameter":"ENDDATE","type":"date","atributes":[],"valueDefault":""},{"object_type":"report","report_id":"SALES_BY_HOUR","title":"by Hour","report_sql":"SELECT hour AS `Hour`,\n   SUM(orders) AS `Number of Orders`,\n   SUM(items) AS `Items Ordered`,\n   SUM(subtotal) AS `Subtotal`,\n   SUM(tax) AS `Tax`,\n   SUM(shipping) AS `Shipping`,\n   SUM(discount) AS `Discount`,\n   SUM(total) AS `Total`\nFROM (\n\t\t SELECT CONVERT(DATE_FORMAT(created_at,'%k'),UNSIGNED INTEGER) AS hour,\n\t\t\t\tCOUNT(1) as orders,\n\t            ROUND(SUM(A.total_qty_ordered),0) AS items,\n                ROUND(SUM(A.base_grand_total*A.base_to_global_rate),2) AS subtotal,\n                ROUND(SUM(A.base_tax_amount*A.base_to_global_rate),2) AS tax,\n                ROUND(SUM(A.shipping_amount*A.base_to_global_rate),2) AS Shipping,\n                ROUND(SUM(A.discount_amount*A.base_to_global_rate),2) AS discount,\n                ROUND(SUM((A.base_grand_total+A.base_tax_amount+A.shipping_amount+A.discount_amount)*A.base_to_global_rate),2) AS total\n\t\tFROM @sales_flat_order A\n\t\t   WHERE (':STORE_ID'='ALL' OR A.store_id=':STORE_ID')\n            AND DATE_FORMAT(A.created_at,'%Y-%m-%d') BETWEEN :STARTDATE AND :ENDDATE\n\t\t    AND A.status='complete'\n\t\tGROUP BY DATE_FORMAT(A.created_at,'%k')\n  \nUNION ALL\n\n\t\tSELECT 1 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 2 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 3 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 4 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 5 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 6 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 7 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 8 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 9 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 10 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 11 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 12 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 13 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 14 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 15 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 16 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 17 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 18 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 19 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 20 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 21 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 22 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 23 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual UNION ALL\n\t\tSELECT 24 AS hour,0 as orders,0 as items,0 as subtotal,0 as tax,0 as shipping,0 as discount,0 as total from dual \n) A\nGROUP BY hour\n\nORDER BY hour","group_id":"GR_SALES","atributes":{"chartXValue":"1","version":"1","chart_type":"discreteBarChart"},"chart_series":["8"],"combos":["STORE_SELECT","CB_STARTDATE","CB_ENDDATE"],"linkTR":[],"linkTRVariables":[],"linkTD":[]}]